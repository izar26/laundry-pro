import{j as e,H as o,L as h}from"./app-CqjK2g5l.js";import{A as p}from"./AdminLayout-Cfvf0XdZ.js";import{B as m}from"./index-BCTrEd1x.js";import{c as r,C as l,a as i,b as d}from"./card-B6e_CB6E.js";import{A as j,S as c}from"./separator-Cqmn0VJD.js";import{B as n}from"./badge-BDyncENm.js";import{C as u}from"./calendar-_UJ_Xs8S.js";import{P as f}from"./printer-C7XnSMbM.js";import{U as x}from"./user-DsyR3ufv.js";import{P as N}from"./phone-CB1FSp5P.js";import{c as y}from"./createLucideIcon-BPM-kmKP.js";import{f as g}from"./format-rTHyNvvs.js";import{i as v}from"./id-QyG5z1i5.js";import"./dialog-Bjcf2eYW.js";import"./index-Bqd37GkZ.js";import"./utils-BELw0PCo.js";import"./index-DvZ7_GIj.js";import"./check-DsYptLtk.js";import"./BackgroundParticles-BcCQ6Knp.js";import"./index-DdoV5TpL.js";import"./shirt-B0Gmjnw6.js";import"./proxy-b6TnkjUl.js";import"./index-C9Ha2ouc.js";const b=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],w=y("mail",b);function _({transaction:s}){const t=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(parseFloat(a));return e.jsxs(e.Fragment,{children:[e.jsx(o,{title:`Detail Transaksi ${s.invoice_code}`}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(m,{variant:"outline",size:"icon",asChild:!0,children:e.jsx(h,{href:route("transactions.index"),children:e.jsx(j,{className:"h-4 w-4"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Detail Transaksi"}),e.jsxs("p",{className:"text-muted-foreground flex items-center gap-2",children:[e.jsx("span",{className:"font-mono",children:s.invoice_code}),e.jsx("span",{children:"â€¢"}),e.jsx(u,{className:"h-3 w-3"}),g(new Date(s.created_at),"dd MMMM yyyy HH:mm",{locale:v})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(m,{onClick:()=>window.open(route("transactions.print",s.id),"_blank"),children:[e.jsx(f,{className:"mr-2 h-4 w-4"})," Cetak Struk"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(r,{children:[e.jsx(l,{className:"pb-3",children:e.jsx(i,{className:"text-md",children:"Status"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Pembayaran"}),e.jsx(n,{variant:s.payment_status==="paid"?"default":"destructive",className:"capitalize w-full justify-center py-1",children:s.payment_status==="paid"?"Lunas":"Belum Lunas"}),e.jsxs("p",{className:"text-xs text-center mt-1 text-muted-foreground capitalize",children:["Via ",s.payment_method]})]}),e.jsx(c,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Cucian"}),e.jsx(n,{variant:"outline",className:"capitalize w-full justify-center py-1 border-primary text-primary",children:s.status==="new"?"Baru Masuk":s.status==="process"?"Sedang Proses":s.status==="ready"?"Siap Ambil":"Selesai"})]})]})]}),e.jsxs(r,{children:[e.jsx(l,{className:"pb-3",children:e.jsx(i,{className:"text-md",children:"Pelanggan"})}),e.jsxs(d,{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:s.customer.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.customer.phone})]}),s.customer.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.customer.email})]}),e.jsxs("div",{className:"pt-2 border-t mt-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Alamat:"}),e.jsx("p",{className:"leading-snug",children:s.customer.address||"-"})]})]})]}),e.jsxs(r,{children:[e.jsx(l,{className:"pb-3",children:e.jsx(i,{className:"text-md",children:"Kasir"})}),e.jsx(d,{children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(x,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.user.name})]})})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs(r,{className:"h-full",children:[e.jsx(l,{children:e.jsx(i,{children:"Rincian Layanan"})}),e.jsxs(d,{children:[e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-muted text-muted-foreground font-medium",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Layanan"}),e.jsx("th",{className:"px-4 py-3 text-center",children:"Qty"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Harga"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Subtotal"})]})}),e.jsx("tbody",{className:"divide-y",children:s.details.map(a=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3",children:a.service_name}),e.jsx("td",{className:"px-4 py-3 text-center",children:parseFloat(a.qty.toString())}),e.jsx("td",{className:"px-4 py-3 text-right",children:t(a.price)}),e.jsx("td",{className:"px-4 py-3 text-right font-medium",children:t(a.subtotal)})]},a.id))})]})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("div",{className:"w-full md:w-1/2 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Kotor"}),e.jsx("span",{children:t(s.total_amount)})]}),parseFloat(s.discount_amount)>0&&e.jsxs("div",{className:"flex justify-between text-sm text-emerald-600",children:[e.jsx("span",{children:"Diskon"}),e.jsxs("span",{children:["- ",t(s.discount_amount)]})]}),e.jsx(c,{className:"my-2"}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total Bayar"}),e.jsx("span",{children:t(s.final_amount)})]})]})})]})]})})]})]})}_.layout=s=>e.jsx(p,{children:s});export{_ as default};

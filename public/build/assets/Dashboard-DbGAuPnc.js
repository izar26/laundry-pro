import{j as e,H as p,L as h}from"./app-BJUS283V.js";import{U as u,A as f}from"./AdminLayout-BVeV9NOV.js";import{c,C as o,a as d,d as x,b as m}from"./card-CQ5-kO-q.js";import{S as j}from"./spotlight-card-BrzQ6zST.js";import{B as g}from"./badge-kINtg_Iu.js";import{B as b}from"./button-Cknn52O-.js";import{D as y}from"./dollar-sign-C_l96u1M.js";import{C as v}from"./credit-card-BucyS69_.js";import{ah as k,ai as N,aj as C,ak as w,al as _,am as S,an as T,ao as L}from"./AreaChart-vLdT4VNz.js";import{c as A}from"./createLucideIcon-Bimzm9Cs.js";import"./dialog-D6sxQ6X3.js";import"./index-2G1qpvYq.js";import"./index-DGFwUscm.js";import"./index-GU3xWpFW.js";import"./utils-BELw0PCo.js";import"./index-DUpLxr6b.js";import"./check-BjYZDW6K.js";import"./avatar-XEMO5tCm.js";import"./index-PZITClZQ.js";import"./BackgroundParticles-Dk0cbptV.js";import"./index-DvSpuR_m.js";import"./shirt-ZtxoH7MD.js";import"./proxy-JpFdu96N.js";import"./index-DJhWr_N3.js";import"./react-redux-DSox-LOM.js";const P=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],B=A("star",P),l=({title:r,value:n,icon:i,color:t,spotlight:s,desc:a})=>e.jsxs(j,{className:"h-full",spotlightColor:s||"rgba(255, 255, 255, 0.2)",children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:r}),e.jsx(i,{className:`h-4 w-4 ${t}`})]}),e.jsxs(m,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n}),a&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a})]})]}),D=({stats:r,chartData:n,recentTransactions:i})=>{const t=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),s=r.is_pelanggan;return e.jsxs(e.Fragment,{children:[e.jsx(p,{title:"Dashboard"}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(l,{title:s?"Pengeluaran Hari Ini":"Pendapatan Hari Ini",icon:y,value:t(r.revenue_today),color:"text-emerald-500",spotlight:"rgba(16, 185, 129, 0.2)"}),e.jsx(l,{title:s?"Pengeluaran Bulan Ini":"Pendapatan Bulan Ini",icon:v,value:t(r.revenue_month),color:"text-blue-500",spotlight:"rgba(59, 130, 246, 0.2)"}),e.jsx(l,{title:s?"Cucian Saya Aktif":"Transaksi Aktif",icon:k,value:r.trx_active,desc:"Sedang diproses",color:"text-orange-500",spotlight:"rgba(249, 115, 22, 0.2)"}),e.jsx(l,{title:s?"Poin Laundry":"Pelanggan Baru",icon:s?B:u,value:s?r.customers_total:`+${r.customers_new_month}`,desc:s?"Total Poin":"Bulan ini",color:"text-purple-500",spotlight:"rgba(168, 85, 247, 0.2)"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-7",children:[e.jsxs(c,{className:"col-span-4 border-none shadow-md",children:[e.jsxs(o,{children:[e.jsx(d,{children:s?"Riwayat Pengeluaran 7 Hari":"Pendapatan 7 Hari Terakhir"}),e.jsx(x,{children:s?"Tren belanja laundry Anda.":"Tren pendapatan harian dari transaksi yang lunas."})]}),e.jsx(m,{className:"pl-0",children:e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(N,{width:"100%",height:"100%",children:e.jsxs(C,{data:n,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),e.jsx(w,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),e.jsx(_,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),e.jsx(S,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:a=>`${a/1e3}k`}),e.jsx(T,{contentStyle:{backgroundColor:"hsl(var(--card))",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:(a=>t(a)),labelFormatter:a=>a}),e.jsx(L,{type:"monotone",dataKey:"total",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorTotal)"})]})})})})]}),e.jsxs(c,{className:"col-span-3 border-none shadow-md",children:[e.jsxs(o,{children:[e.jsx(d,{children:s?"Transaksi Terakhir Saya":"Transaksi Terbaru"}),e.jsx(x,{children:s?"5 pesanan terakhir Anda.":"5 pesanan terakhir yang masuk sistem."})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"space-y-6",children:[i.map(a=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold text-xs shrink-0",children:a.customer_name.substring(0,2).toUpperCase()}),e.jsxs("div",{className:"ml-4 space-y-1 flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-sm font-medium leading-none truncate pr-2",children:a.customer_name}),e.jsx("span",{className:"font-bold text-sm shrink-0",children:t(a.final_amount)})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[e.jsx("p",{className:"truncate w-32",children:a.service_summary}),e.jsx(g,{variant:"outline",className:`text-[10px] px-1 py-0 h-4 ${a.status==="done"?"text-emerald-600 border-emerald-200 bg-emerald-50":a.status==="ready"?"text-orange-600 border-orange-200 bg-orange-50":"text-blue-600 border-blue-200 bg-blue-50"}`,children:a.status})]})]})]},a.id)),i.length===0&&e.jsx("div",{className:"text-center text-muted-foreground py-8 text-sm",children:"Belum ada transaksi."})]}),e.jsx("div",{className:"mt-6 pt-4 border-t text-center",children:e.jsx(b,{variant:"ghost",size:"sm",className:"w-full text-muted-foreground hover:text-primary",asChild:!0,children:e.jsx(h,{href:route("transactions.index"),children:"Lihat Semua Transaksi"})})})]})]})]})]})]})};D.layout=r=>e.jsx(f,{children:r});export{D as default};

import{r as c,g as dr,G as B,j as s,H as fr,b as Se}from"./app-Clij37a7.js";import{T as Je,S as Qe,U as pr,A as mr}from"./AdminLayout-DcDEw9F0.js";import{C as $,a as V,b as q,c as de}from"./card-O53tyQRo.js";import{S as De}from"./spotlight-card-5NOVcLY2.js";import{B as ne}from"./button-Du4d_PUj.js";import{D as hr}from"./data-table-Dk_fcylh.js";import{B as vr}from"./badge-IaJrgpel.js";import{a as yr,C as et,s as gr}from"./calendar-D-CInuBZ.js";import{P as tt,a as rt,b as at}from"./popover-Cc0xyugX.js";import{a as qe,c as nt}from"./utils-BELw0PCo.js";import{C as it}from"./calendar-Bud6DQHR.js";import{c as _t}from"./createLucideIcon-7pP0XTvI.js";import{w as br,c as fe,s as _e,i as se,u as Lt,r as Wt,a as Bt,g as xr,J as zt,b as T,d as ie,L as le,C as jr,S as Or,R as kr,e as Ge,f as Pr,m as wr,h as Sr,j as Dr,k as ke,l as Le,n as We,o as Ar,p as R,q as Er,t as Tr,v as Q,x as Ir,y as U,z as Z,A as Y,B as J,D as Ft,E as Rt,F as Kt,G as Cr,H as Nr,I as ot,K as Mr,M as st,N as _r,O as Lr,P as He,Q as $t,T as Wr,U as Br,V as zr,Z as Ue,W as Vt,X as Fr,Y as Rr,_ as Kr,$ as $r,a0 as ve,a1 as qt,a2 as Vr,a3 as qr,a4 as Gr,a5 as lt,a6 as Gt,a7 as Hr,a8 as Ht,a9 as Ur,aa as Yr,ab as Xr,ac as Zr,ad as Jr,ae as ut,af as Qr,ag as ea,ah as ta,ai as ct,aj as ra,ak as dt,al as ft,am as pt,an as mt,ao as aa}from"./AreaChart-Bcr0LucR.js";import{i as na}from"./tiny-invariant-BaFNuDhB.js";import{i as ht}from"./id-QyG5z1i5.js";import{f as C}from"./format-rTHyNvvs.js";import"./dialog-DmKU8xAV.js";import"./index-BbA6YFUE.js";import"./index-D44yVRzP.js";import"./index-fKL662UW.js";import"./index-DG6IDE4v.js";import"./check-f6-8tjn4.js";import"./avatar-R8uWMimD.js";import"./index-zwkoN8Zf.js";import"./BackgroundParticles-CVKq8XbX.js";import"./index-mAcSEs5T.js";import"./shirt-CIX-2J_S.js";import"./proxy-BgYb6SAi.js";import"./index-rYS_I75V.js";import"./input-B7nGYMVS.js";import"./react-redux-DwLOD3dO.js";const ia=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],oa=_t("download",ia);const sa=[["path",{d:"M12.531 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l.427-.473",key:"ol2ft2"}],["path",{d:"m16.5 3.5 5 5",key:"15e6fa"}],["path",{d:"m21.5 3.5-5 5",key:"m0lwru"}]],la=_t("funnel-x",sa);function Ae(e,r,t){return yr(e,-r,t)}const Ut=Math.cos,ye=Math.sin,L=Math.sqrt,ge=Math.PI,Pe=2*ge,Ye={draw(e,r){const t=L(r/ge);e.moveTo(t,0),e.arc(0,0,t,0,Pe)}},ua={draw(e,r){const t=L(r/5)/2;e.moveTo(-3*t,-t),e.lineTo(-t,-t),e.lineTo(-t,-3*t),e.lineTo(t,-3*t),e.lineTo(t,-t),e.lineTo(3*t,-t),e.lineTo(3*t,t),e.lineTo(t,t),e.lineTo(t,3*t),e.lineTo(-t,3*t),e.lineTo(-t,t),e.lineTo(-3*t,t),e.closePath()}},Yt=L(1/3),ca=Yt*2,da={draw(e,r){const t=L(r/ca),a=t*Yt;e.moveTo(0,-t),e.lineTo(a,0),e.lineTo(0,t),e.lineTo(-a,0),e.closePath()}},fa={draw(e,r){const t=L(r),a=-t/2;e.rect(a,a,t,t)}},pa=.8908130915292852,Xt=ye(ge/10)/ye(7*ge/10),ma=ye(Pe/10)*Xt,ha=-Ut(Pe/10)*Xt,va={draw(e,r){const t=L(r*pa),a=ma*t,n=ha*t;e.moveTo(0,-t),e.lineTo(a,n);for(let i=1;i<5;++i){const o=Pe*i/5,l=Ut(o),u=ye(o);e.lineTo(u*t,-l*t),e.lineTo(l*a-u*n,u*a+l*n)}e.closePath()}},Ee=L(3),ya={draw(e,r){const t=-L(r/(Ee*3));e.moveTo(0,t*2),e.lineTo(-Ee*t,-t),e.lineTo(Ee*t,-t),e.closePath()}},N=-.5,M=L(3)/2,Be=1/L(12),ga=(Be/2+1)*3,ba={draw(e,r){const t=L(r/ga),a=t/2,n=t*Be,i=a,o=t*Be+t,l=-i,u=o;e.moveTo(a,n),e.lineTo(i,o),e.lineTo(l,u),e.lineTo(N*a-M*n,M*a+N*n),e.lineTo(N*i-M*o,M*i+N*o),e.lineTo(N*l-M*u,M*l+N*u),e.lineTo(N*a+M*n,N*n-M*a),e.lineTo(N*i+M*o,N*o-M*i),e.lineTo(N*l+M*u,N*u-M*l),e.closePath()}};function xa(e,r){let t=null,a=br(n);e=typeof e=="function"?e:fe(e||Ye),r=typeof r=="function"?r:fe(r===void 0?64:+r);function n(){let i;if(t||(t=i=a()),e.apply(this,arguments).draw(t,+r.apply(this,arguments)),i)return t=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:fe(i),n):e},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:fe(+i),n):r},n.context=function(i){return arguments.length?(t=i??null,n):t},n}var ja=["type","size","sizeType"];function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ze.apply(null,arguments)}function vt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function yt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vt(Object(t),!0).forEach(function(a){Oa(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vt(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Oa(e,r,t){return(r=ka(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ka(e){var r=Pa(e,"string");return typeof r=="symbol"?r:r+""}function Pa(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function wa(e,r){if(e==null)return{};var t,a,n=Sa(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Sa(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}var Zt={symbolCircle:Ye,symbolCross:ua,symbolDiamond:da,symbolSquare:fa,symbolStar:va,symbolTriangle:ya,symbolWye:ba},Da=Math.PI/180,Aa=e=>{var r="symbol".concat(Lt(e));return Zt[r]||Ye},Ea=(e,r,t)=>{if(r==="area")return e;switch(t){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Da;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ta=(e,r)=>{Zt["symbol".concat(Lt(e))]=r},Jt=e=>{var{type:r="circle",size:t=64,sizeType:a="area"}=e,n=wa(e,ja),i=yt(yt({},n),{},{type:r,size:t,sizeType:a}),o="circle";typeof r=="string"&&(o=r);var l=()=>{var y=Aa(o),g=xa().type(y).size(Ea(t,a,o)),x=g();if(x!==null)return x},{className:u,cx:d,cy:p}=i,h=_e(i);return se(d)&&se(p)&&se(t)?c.createElement("path",ze({},h,{className:qe("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(p,")"),d:l()})):null};Jt.registerSymbol=Ta;var Xe=e=>null;Xe.displayName="Cell";var Te={},gt;function Ia(){return gt||(gt=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let a=t;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(t)===a}e.isPlainObject=r})(Te)),Te}var Ie,bt;function Ca(){return bt||(bt=1,Ie=Ia().isPlainObject),Ie}var Na=Ca();const Ma=dr(Na);var xt,jt,Ot,kt,Pt;function wt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function St(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?wt(Object(t),!0).forEach(function(a){_a(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wt(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function _a(e,r,t){return(r=La(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function La(e){var r=Wa(e,"string");return typeof r=="symbol"?r:r+""}function Wa(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},be.apply(null,arguments)}function oe(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var Dt=(e,r,t,a,n)=>{var i=t-a,o;return o=ie(xt||(xt=oe(["M ",",",""])),e,r),o+=ie(jt||(jt=oe(["L ",",",""])),e+t,r),o+=ie(Ot||(Ot=oe(["L ",",",""])),e+t-i/2,r+n),o+=ie(kt||(kt=oe(["L ",",",""])),e+t-i/2-a,r+n),o+=ie(Pt||(Pt=oe(["L ",","," Z"])),e,r),o},Ba={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},za=e=>{var r=Wt(e,Ba),{x:t,y:a,upperWidth:n,lowerWidth:i,height:o,className:l}=r,{animationEasing:u,animationDuration:d,animationBegin:p,isUpdateAnimationActive:h}=r,y=c.useRef(null),[g,x]=c.useState(-1),b=c.useRef(n),f=c.useRef(i),m=c.useRef(o),v=c.useRef(t),P=c.useRef(a),O=Bt(e,"trapezoid-");if(c.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var E=y.current.getTotalLength();E&&x(E)}catch{}},[]),t!==+t||a!==+a||n!==+n||i!==+i||o!==+o||n===0&&i===0||o===0)return null;var w=qe("recharts-trapezoid",l);if(!h)return c.createElement("g",null,c.createElement("path",be({},_e(r),{className:w,d:Dt(t,a,n,i,o)})));var k=b.current,I=f.current,_=m.current,D=v.current,A=P.current,ee="0px ".concat(g===-1?1:g,"px"),ce="".concat(g,"px 0px"),W=xr(["strokeDasharray"],d,u);return c.createElement(zt,{animationId:O,key:O,canBegin:g>0,duration:d,easing:u,isActive:h,begin:p},E=>{var X=T(k,n,E),K=T(I,i,E),te=T(_,o,E),re=T(D,t,E),ae=T(A,a,E);y.current&&(b.current=X,f.current=K,m.current=te,v.current=re,P.current=ae);var we=E>0?{transition:W,strokeDasharray:ce}:{strokeDasharray:ee};return c.createElement("path",be({},_e(r),{className:w,d:Dt(re,ae,X,K,te),ref:y,style:St(St({},we),r.style)}))})},Fa=["option","shapeType","activeClassName"];function Ra(e,r){if(e==null)return{};var t,a,n=Ka(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Ka(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}function At(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function xe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?At(Object(t),!0).forEach(function(a){$a(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):At(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function $a(e,r,t){return(r=Va(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Va(e){var r=qa(e,"string");return typeof r=="symbol"?r:r+""}function qa(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ga(e,r){return xe(xe({},r),e)}function Ha(e,r){return e==="symbols"}function Et(e){var{shapeType:r,elementProps:t}=e;switch(r){case"rectangle":return c.createElement(kr,t);case"trapezoid":return c.createElement(za,t);case"sector":return c.createElement(Or,t);case"symbols":if(Ha(r))return c.createElement(Jt,t);break;case"curve":return c.createElement(jr,t);default:return null}}function Ua(e){return c.isValidElement(e)?e.props:e}function Ya(e){var{option:r,shapeType:t,activeClassName:a="recharts-active-shape"}=e,n=Ra(e,Fa),i;if(c.isValidElement(r))i=c.cloneElement(r,xe(xe({},n),Ua(r)));else if(typeof r=="function")i=r(n,n.index);else if(Ma(r)&&typeof r!="boolean"){var o=Ga(r,n);i=c.createElement(Et,{shapeType:t,elementProps:o})}else{var l=n;i=c.createElement(Et,{shapeType:t,elementProps:l})}return n.isActive?c.createElement(le,{className:a},i):i}var Qt=(e,r,t)=>{var a=Ge();return(n,i)=>o=>{e?.(n,i,o),a(Pr({activeIndex:String(i),activeDataKey:r,activeCoordinate:n.tooltipPosition,activeGraphicalItemId:t}))}},er=e=>{var r=Ge();return(t,a)=>n=>{e?.(t,a,n),r(wr())}},tr=(e,r,t)=>{var a=Ge();return(n,i)=>o=>{e?.(n,i,o),a(Sr({activeIndex:String(i),activeDataKey:r,activeCoordinate:n.tooltipPosition,activeGraphicalItemId:t}))}},Tt=(e,r,t)=>{var a=t??e;if(!ke(a))return Le(a,r,0)},Xa=(e,r,t)=>{var a={},n=e.filter(Dr),i=e.filter(d=>d.stackId==null),o=n.reduce((d,p)=>(d[p.stackId]||(d[p.stackId]=[]),d[p.stackId].push(p),d),a),l=Object.entries(o).map(d=>{var[p,h]=d,y=h.map(x=>x.dataKey),g=Tt(r,t,h[0].barSize);return{stackId:p,dataKeys:y,barSize:g}}),u=i.map(d=>{var p=[d.dataKey].filter(y=>y!=null),h=Tt(r,t,d.barSize);return{stackId:void 0,dataKeys:p,barSize:h}});return[...l,...u]};function It(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function pe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?It(Object(t),!0).forEach(function(a){Za(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):It(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Za(e,r,t){return(r=Ja(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ja(e){var r=Qa(e,"string");return typeof r=="symbol"?r:r+""}function Qa(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function en(e,r,t,a,n){var i=a.length;if(!(i<1)){var o=Le(e,t,0,!0),l,u=[];if(We(a[0].barSize)){var d=!1,p=t/i,h=a.reduce((m,v)=>m+(v.barSize||0),0);h+=(i-1)*o,h>=t&&(h-=(i-1)*o,o=0),h>=t&&p>0&&(d=!0,p*=.9,h=i*p);var y=(t-h)/2>>0,g={offset:y-o,size:0};l=a.reduce((m,v)=>{var P,O={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:g.offset+g.size+o,size:d?p:(P=v.barSize)!==null&&P!==void 0?P:0}},w=[...m,O];return g=w[w.length-1].position,w},u)}else{var x=Le(r,t,0,!0);t-2*x-(i-1)*o<=0&&(o=0);var b=(t-2*x-(i-1)*o)/i;b>1&&(b>>=0);var f=We(n)?Math.min(b,n):b;l=a.reduce((m,v,P)=>[...m,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:x+(b+o)*P+(b-f)/2,size:f}}],u)}return l}}var tn=(e,r,t,a,n,i,o)=>{var l=ke(o)?r:o,u=en(t,a,n!==i?n:i,e,l);return n!==i&&u!=null&&(u=u.map(d=>pe(pe({},d),{},{position:pe(pe({},d.position),{},{offset:d.position.offset-n/2})}))),u},rn=(e,r)=>{var t=Ar(r);if(!(!e||t==null||r==null)){var{stackId:a}=r;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(o=>o.key===t)}}}};function an(e,r){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&We(e.zIndex)?e.zIndex:r}var nn=["children"];function on(e,r){if(e==null)return{};var t,a,n=sn(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function sn(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}var ln={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},un=c.createContext(ln);function cn(e){var{children:r}=e,t=on(e,nn);return c.createElement(un.Provider,{value:t},r)}function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Fe.apply(null,arguments)}function je(e){return c.createElement(Ya,Fe({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var dn=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(se(r))return r;var i=se(a)||ke(a);return i?r(a,n):(i||na(),t)}},fn=(e,r,t)=>t,pn=(e,r)=>r,ue=R([Rt,pn],(e,r)=>e.filter(t=>t.type==="bar").find(t=>t.id===r)),mn=R([ue],e=>e?.maxBarSize),hn=(e,r,t,a)=>a,vn=R([Q,Rt,U,Y,fn],(e,r,t,a,n)=>r.filter(i=>e==="horizontal"?i.xAxisId===t:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),yn=(e,r,t)=>{var a=Q(e),n=U(e,r),i=Y(e,r);if(!(n==null||i==null))return a==="horizontal"?ot(e,"yAxis",i,t):ot(e,"xAxis",n,t)},gn=(e,r)=>{var t=Q(e),a=U(e,r),n=Y(e,r);if(!(a==null||n==null))return t==="horizontal"?st(e,"xAxis",a):st(e,"yAxis",n)},bn=R([vn,Mr,gn],Xa),xn=(e,r,t)=>{var a,n,i=ue(e,r);if(i!=null){var o=U(e,r),l=Y(e,r);if(!(o==null||l==null)){var u=Q(e),d=Kt(e),{maxBarSize:p}=i,h=ke(p)?d:p,y,g;return u==="horizontal"?(y=Z(e,"xAxis",o,t),g=J(e,"xAxis",o,t)):(y=Z(e,"yAxis",l,t),g=J(e,"yAxis",l,t)),(a=(n=Ft(y,g,!0))!==null&&n!==void 0?n:h)!==null&&a!==void 0?a:0}}},rr=(e,r,t)=>{var a=Q(e),n=U(e,r),i=Y(e,r);if(!(n==null||i==null)){var o,l;return a==="horizontal"?(o=Z(e,"xAxis",n,t),l=J(e,"xAxis",n,t)):(o=Z(e,"yAxis",i,t),l=J(e,"yAxis",i,t)),Ft(o,l)}},jn=R([bn,Kt,Cr,Nr,xn,rr,mn],tn),On=(e,r,t)=>{var a=U(e,r);if(a!=null)return Z(e,"xAxis",a,t)},kn=(e,r,t)=>{var a=Y(e,r);if(a!=null)return Z(e,"yAxis",a,t)},Pn=(e,r,t)=>{var a=U(e,r);if(a!=null)return J(e,"xAxis",a,t)},wn=(e,r,t)=>{var a=Y(e,r);if(a!=null)return J(e,"yAxis",a,t)},Sn=R([jn,ue],(e,r)=>{if(!(e==null||r==null)){var t=e.find(a=>a.stackId===r.stackId&&r.dataKey!=null&&a.dataKeys.includes(r.dataKey));if(t!=null)return t.position}}),Dn=R([yn,ue],rn),An=R([Er,Tr,On,kn,Pn,wn,Sn,Q,Ir,rr,Dn,ue,hn],(e,r,t,a,n,i,o,l,u,d,p,h,y)=>{var{chartData:g,dataStartIndex:x,dataEndIndex:b}=u;if(!(h==null||o==null||r==null||l!=="horizontal"&&l!=="vertical"||t==null||a==null||n==null||i==null||d==null)){var{data:f}=h,m;if(f!=null&&f.length>0?m=f:m=g?.slice(x,b+1),m!=null)return ai({layout:l,barSettings:h,pos:o,parentViewBox:r,bandSize:d,xAxis:t,yAxis:a,xAxisTicks:n,yAxisTicks:i,stackedData:p,displayedData:m,offset:e,cells:y,dataStartIndex:x})}}),En=["index"];function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Re.apply(null,arguments)}function Tn(e,r){if(e==null)return{};var t,a,n=In(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function In(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}var ar=c.createContext(void 0),Cn=e=>{var r=c.useContext(ar);if(r!=null)return r.stackId;if(e!=null)return _r(e)},Nn=(e,r)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(r),Mn=e=>{var r=c.useContext(ar);if(r!=null){var{stackId:t}=r;return"url(#".concat(Nn(t,e),")")}},_n=e=>{var{index:r}=e,t=Tn(e,En),a=Mn(r);return c.createElement(le,Re({className:"recharts-bar-stack-layer",clipPath:a},t))},Ln=["onMouseEnter","onMouseLeave","onClick"],Wn=["value","background","tooltipPosition"],Bn=["id"],zn=["onMouseEnter","onClick","onMouseLeave"];function F(){return F=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},F.apply(null,arguments)}function Ct(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ct(Object(t),!0).forEach(function(a){Fn(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ct(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Fn(e,r,t){return(r=Rn(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Rn(e){var r=Kn(e,"string");return typeof r=="symbol"?r:r+""}function Kn(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Oe(e,r){if(e==null)return{};var t,a,n=$n(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function $n(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}var Vn=e=>{var{dataKey:r,name:t,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:Vt(t,r),payload:e}]},qn=c.memo(e=>{var{dataKey:r,stroke:t,strokeWidth:a,fill:n,name:i,hide:o,unit:l,tooltipType:u,id:d}=e,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:a,fill:n,dataKey:r,nameKey:void 0,name:Vt(i,r),hide:o,type:u,color:n,unit:l,graphicalItemId:d}};return c.createElement(Fr,{tooltipEntrySettings:p})});function Gn(e){var r=ve(Gt),{data:t,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:u}=i,d=Oe(i,Ln),p=Qt(o,a,i.id),h=er(l),y=tr(u,a,i.id);if(!n||t==null)return null;var g=Hr(n);return c.createElement(Ue,{zIndex:an(n,He.barBackground)},t.map((x,b)=>{var{value:f,background:m,tooltipPosition:v}=x,P=Oe(x,Wn);if(!m)return null;var O=p(x,b),w=h(x,b),k=y(x,b),I=S(S(S(S(S({option:n,isActive:String(b)===r},P),{},{fill:"#eee"},m),g),Ht(d,x,b)),{},{onMouseEnter:O,onMouseLeave:w,onClick:k,dataKey:a,index:b,className:"recharts-bar-background-rectangle"});return c.createElement(je,F({key:"background-bar-".concat(b)},I))}))}function Hn(e){var{showLabels:r,children:t,rects:a}=e,n=a?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return S(S({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return c.createElement(Yr,{value:r?n:void 0},t)}function Un(e){var{shape:r,activeBar:t,baseProps:a,entry:n,index:i,dataKey:o}=e,l=ve(Gt),u=ve(Zr),d=t&&String(i)===l&&(u==null||o===u),p=d?t:r;return d?c.createElement(Ue,{zIndex:He.activeBar},c.createElement(je,F({},a,{name:String(a.name)},n,{isActive:d,option:p,index:i,dataKey:o}))):c.createElement(je,F({},a,{name:String(a.name)},n,{isActive:d,option:p,index:i,dataKey:o}))}function Yn(e){var{shape:r,baseProps:t,entry:a,index:n,dataKey:i}=e;return c.createElement(je,F({},t,{name:String(t.name)},a,{isActive:!1,option:r,index:n,dataKey:i}))}function Xn(e){var r,{data:t,props:a}=e,n=(r=Xr(a))!==null&&r!==void 0?r:{},{id:i}=n,o=Oe(n,Bn),{shape:l,dataKey:u,activeBar:d}=a,{onMouseEnter:p,onClick:h,onMouseLeave:y}=a,g=Oe(a,zn),x=Qt(p,u,i),b=er(y),f=tr(h,u,i);return t?c.createElement(c.Fragment,null,t.map((m,v)=>c.createElement(_n,F({index:v,key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(v),className:"recharts-bar-rectangle"},Ht(g,m,v),{onMouseEnter:x(m,v),onMouseLeave:b(m,v),onClick:f(m,v)}),d?c.createElement(Un,{shape:l,activeBar:d,baseProps:o,entry:m,index:v,dataKey:u}):c.createElement(Yn,{shape:l,baseProps:o,entry:m,index:v,dataKey:u})))):null}function Zn(e){var{props:r,previousRectanglesRef:t}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:u,onAnimationEnd:d,onAnimationStart:p}=r,h=t.current,y=Bt(r,"recharts-bar-"),[g,x]=c.useState(!1),b=!g,f=c.useCallback(()=>{typeof d=="function"&&d(),x(!1)},[d]),m=c.useCallback(()=>{typeof p=="function"&&p(),x(!0)},[p]);return c.createElement(Hn,{showLabels:b,rects:a},c.createElement(zt,{animationId:y,begin:o,duration:l,isActive:i,easing:u,onAnimationEnd:f,onAnimationStart:m,key:y},v=>{var P=v===1?a:a?.map((O,w)=>{var k=h&&h[w];if(k)return S(S({},O),{},{x:T(k.x,O.x,v),y:T(k.y,O.y,v),width:T(k.width,O.width,v),height:T(k.height,O.height,v)});if(n==="horizontal"){var I=T(0,O.height,v),_=T(O.stackedBarStart,O.y,v);return S(S({},O),{},{y:_,height:I})}var D=T(0,O.width,v),A=T(O.stackedBarStart,O.x,v);return S(S({},O),{},{width:D,x:A})});return v>0&&(t.current=P??null),P==null?null:c.createElement(le,null,c.createElement(Xn,{props:r,data:P}))}),c.createElement(Ur,{label:r.label}),r.children)}function Jn(e){var r=c.useRef(null);return c.createElement(Zn,{previousRectanglesRef:r,props:e})}var nr=0,Qn=(e,r)=>{var t=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:t,errorVal:qt(e,r)}};class ei extends c.PureComponent{render(){var{hide:r,data:t,dataKey:a,className:n,xAxisId:i,yAxisId:o,needClip:l,background:u,id:d}=this.props;if(r||t==null)return null;var p=qe("recharts-bar",n),h=d;return c.createElement(le,{className:p,id:d},l&&c.createElement("defs",null,c.createElement(Vr,{clipPathId:h,xAxisId:i,yAxisId:o})),c.createElement(le,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},c.createElement(Gn,{data:t,dataKey:a,background:u,allOtherBarProps:this.props}),c.createElement(Jn,this.props)))}}var ti={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:nr,xAxisId:0,yAxisId:0,zIndex:He.bar};function ri(e){var{xAxisId:r,yAxisId:t,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:p}=e,{needClip:h}=Rr(r,t),y=Kr(),g=$t(),x=$r(e.children,Xe),b=ve(v=>An(v,e.id,g,x));if(y!=="vertical"&&y!=="horizontal")return null;var f,m=b?.[0];return m==null||m.height==null||m.width==null?f=0:f=y==="vertical"?m.height/2:m.width/2,c.createElement(cn,{xAxisId:r,yAxisId:t,data:b,dataPointFormatter:Qn,errorBarOffset:f},c.createElement(ei,F({},e,{layout:y,needClip:h,data:b,xAxisId:r,yAxisId:t,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:p})))}function ai(e){var{layout:r,barSettings:{dataKey:t,minPointSize:a},pos:n,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:u,yAxisTicks:d,stackedData:p,displayedData:h,offset:y,cells:g,parentViewBox:x,dataStartIndex:b}=e,f=r==="horizontal"?l:o,m=p?f.scale.domain():null,v=qr({numericAxis:f}),P=f.scale(v);return h.map((O,w)=>{var k,I,_,D,A,ee;if(p){var ce=p[w+b];if(ce==null)return null;k=Gr(ce,m)}else k=qt(O,t),Array.isArray(k)||(k=[v,k]);var W=dn(a,nr)(k[1],w);if(r==="horizontal"){var E,[X,K]=[l.scale(k[0]),l.scale(k[1])];I=lt({axis:o,ticks:u,bandSize:i,offset:n.offset,entry:O,index:w}),_=(E=K??X)!==null&&E!==void 0?E:void 0,D=n.size;var te=X-K;if(A=Jr(te)?0:te,ee={x:I,y:y.top,width:D,height:y.height},Math.abs(W)>0&&Math.abs(A)<Math.abs(W)){var re=ut(A||W)*(Math.abs(W)-Math.abs(A));_-=re,A+=re}}else{var[ae,we]=[o.scale(k[0]),o.scale(k[1])];if(I=ae,_=lt({axis:l,ticks:d,bandSize:i,offset:n.offset,entry:O,index:w}),D=we-ae,A=n.size,ee={x:y.left,y:_,width:y.width,height:A},Math.abs(W)>0&&Math.abs(D)<Math.abs(W)){var ur=ut(D||W)*(Math.abs(W)-Math.abs(D));D+=ur}}if(I==null||_==null||D==null||A==null)return null;var cr=S(S({},O),{},{stackedBarStart:P,x:I,y:_,width:D,height:A,value:p?k:k[1],payload:O,background:ee,tooltipPosition:{x:I+D/2,y:_+A/2},parentViewBox:x},g&&g[w]&&g[w].props);return cr}).filter(Boolean)}function ni(e){var r=Wt(e,ti),t=Cn(r.stackId),a=$t();return c.createElement(Wr,{id:r.id,type:"bar"},n=>c.createElement(c.Fragment,null,c.createElement(Br,{legendPayload:Vn(r)}),c.createElement(qn,{dataKey:r.dataKey,stroke:r.stroke,strokeWidth:r.strokeWidth,fill:r.fill,name:r.name,hide:r.hide,unit:r.unit,tooltipType:r.tooltipType,id:n}),c.createElement(zr,{type:"bar",id:n,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:t,hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:a}),c.createElement(Ue,{zIndex:r.zIndex},c.createElement(ri,F({},r,{id:n})))))}var ir=c.memo(ni,Lr);ir.displayName="Bar";var ii=["axis","item"],oi=c.forwardRef((e,r)=>c.createElement(Qr,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ii,tooltipPayloadSearcher:ea,categoricalChartProps:e,ref:r}));function si(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function li(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ui(e,r,t){return r&&li(e.prototype,r),e}function ci(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ke(){return Ke=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ke.apply(this,arguments)}function di(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ve(e,r)}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$e(e)}function Ve(e,r){return Ve=Object.setPrototypeOf||function(a,n){return a.__proto__=n,a},Ve(e,r)}function or(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fi(e,r){return r&&(typeof r=="object"||typeof r=="function")?r:or(e)}function Ce(e,r){return pi(e)||mi(e,r)||hi()}function pi(e){if(Array.isArray(e))return e}function mi(e,r){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]"){var t=[],a=!0,n=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(t.push(l.value),!(r&&t.length===r));a=!0);}catch(u){n=!0,i=u}finally{try{!a&&o.return!=null&&o.return()}finally{if(n)throw i}}return t}}function hi(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function vi(e,r){return r={exports:{}},e(r,r.exports),r.exports}var yi="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gi=yi;function sr(){}function lr(){}lr.resetWarningCache=sr;var bi=function(){function e(a,n,i,o,l,u){if(u!==gi){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function r(){return e}var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:lr,resetWarningCache:sr};return t.PropTypes=t,t},j=vi(function(e){e.exports=bi()});function xi(e,r){if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function ji(e,r){r===void 0&&(r=xi);var t,a=[],n,i=!1;function o(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return i&&t===this&&r(l,a)||(n=e.apply(this,l),i=!0,t=this,a=l),n}return o}var Nt=1440*60*1e3,G=7,Oi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ki=["","Mon","","Wed","","Fri",""];function he(e,r){var t=new Date(e);return t.setDate(t.getDate()+r),t}function Pi(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function Ne(e){return e instanceof Date?e:new Date(e)}function wi(e){return he(new Date,-200)}function Me(e){for(var r=[],t=0;t<e;t+=1)r.push(t);return r}var z=10,me=4,H="react-calendar-heatmap-",Ze=(function(e){di(r,e);function r(){var t,a;si(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return a=fi(this,(t=$e(r)).call.apply(t,[this].concat(i))),ci(or(a),"getValueCache",ji(function(l){return l.values.reduce(function(u,d){var p=Ne(d.date),h=Math.floor((p-a.getStartDateWithEmptyDays())/Nt);return u[h]={value:d,className:a.props.classForValue(d),title:a.props.titleForValue?a.props.titleForValue(d):null,tooltipDataAttrs:a.getTooltipDataAttrsForValue(d)},u},{})})),a}return ui(r,[{key:"getDateDifferenceInDays",value:function(){var a=this.props,n=a.startDate,i=a.numDays;if(i)return console.warn("numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead."),i;var o=this.getEndDate()-Ne(n);return Math.ceil(o/Nt)}},{key:"getSquareSizeWithGutter",value:function(){return z+this.props.gutterSize}},{key:"getMonthLabelSize",value:function(){return this.props.showMonthLabels?this.props.horizontal?z+me:2*(z+me):0}},{key:"getWeekdayLabelSize",value:function(){return this.props.showWeekdayLabels?this.props.horizontal?30:z*1.5:0}},{key:"getStartDate",value:function(){return he(this.getEndDate(),-this.getDateDifferenceInDays()+1)}},{key:"getEndDate",value:function(){return Pi(Ne(this.props.endDate))}},{key:"getStartDateWithEmptyDays",value:function(){return he(this.getStartDate(),-this.getNumEmptyDaysAtStart())}},{key:"getNumEmptyDaysAtStart",value:function(){return this.getStartDate().getDay()}},{key:"getNumEmptyDaysAtEnd",value:function(){return G-1-this.getEndDate().getDay()}},{key:"getWeekCount",value:function(){var a=this.getDateDifferenceInDays()+this.getNumEmptyDaysAtStart()+this.getNumEmptyDaysAtEnd();return Math.ceil(a/G)}},{key:"getWeekWidth",value:function(){return G*this.getSquareSizeWithGutter()}},{key:"getWidth",value:function(){return this.getWeekCount()*this.getSquareSizeWithGutter()-(this.props.gutterSize-this.getWeekdayLabelSize())}},{key:"getHeight",value:function(){return this.getWeekWidth()+(this.getMonthLabelSize()-this.props.gutterSize)+this.getWeekdayLabelSize()}},{key:"getValueForIndex",value:function(a){return this.valueCache[a]?this.valueCache[a].value:null}},{key:"getClassNameForIndex",value:function(a){return this.valueCache[a]?this.valueCache[a].className:this.props.classForValue(null)}},{key:"getTitleForIndex",value:function(a){return this.valueCache[a]?this.valueCache[a].title:this.props.titleForValue?this.props.titleForValue(null):null}},{key:"getTooltipDataAttrsForIndex",value:function(a){return this.valueCache[a]?this.valueCache[a].tooltipDataAttrs:this.getTooltipDataAttrsForValue({date:null,count:null})}},{key:"getTooltipDataAttrsForValue",value:function(a){var n=this.props.tooltipDataAttrs;return typeof n=="function"?n(a):n}},{key:"getTransformForWeek",value:function(a){return this.props.horizontal?"translate(".concat(a*this.getSquareSizeWithGutter(),", 0)"):"translate(0, ".concat(a*this.getSquareSizeWithGutter(),")")}},{key:"getTransformForWeekdayLabels",value:function(){return this.props.horizontal?"translate(".concat(z,", ").concat(this.getMonthLabelSize(),")"):null}},{key:"getTransformForMonthLabels",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", 0)"):"translate(".concat(this.getWeekWidth()+me,", ").concat(this.getWeekdayLabelSize(),")")}},{key:"getTransformForAllWeeks",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", ").concat(this.getMonthLabelSize(),")"):"translate(0, ".concat(this.getWeekdayLabelSize(),")")}},{key:"getViewBox",value:function(){return this.props.horizontal?"0 0 ".concat(this.getWidth()," ").concat(this.getHeight()):"0 0 ".concat(this.getHeight()," ").concat(this.getWidth())}},{key:"getSquareCoordinates",value:function(a){return this.props.horizontal?[0,a*this.getSquareSizeWithGutter()]:[a*this.getSquareSizeWithGutter(),0]}},{key:"getWeekdayLabelCoordinates",value:function(a){return this.props.horizontal?[0,(a+1)*z+a*this.props.gutterSize]:[a*z+a*this.props.gutterSize,z]}},{key:"getMonthLabelCoordinates",value:function(a){if(this.props.horizontal)return[a*this.getSquareSizeWithGutter(),this.getMonthLabelSize()-me];var n=-2;return[0,(a+1)*this.getSquareSizeWithGutter()+n]}},{key:"handleClick",value:function(a){this.props.onClick&&this.props.onClick(a)}},{key:"handleMouseOver",value:function(a,n){this.props.onMouseOver&&this.props.onMouseOver(a,n)}},{key:"handleMouseLeave",value:function(a,n){this.props.onMouseLeave&&this.props.onMouseLeave(a,n)}},{key:"renderSquare",value:function(a,n){var i=this,o=n<this.getNumEmptyDaysAtStart()||n>=this.getNumEmptyDaysAtStart()+this.getDateDifferenceInDays();if(o&&!this.props.showOutOfRangeDays)return null;var l=this.getSquareCoordinates(a),u=Ce(l,2),d=u[0],p=u[1],h=this.getValueForIndex(n),y=B.createElement("rect",Ke({key:n,width:z,height:z,x:d,y:p,className:this.getClassNameForIndex(n),onClick:function(){return i.handleClick(h)},onMouseOver:function(b){return i.handleMouseOver(b,h)},onMouseLeave:function(b){return i.handleMouseLeave(b,h)}},this.getTooltipDataAttrsForIndex(n)),B.createElement("title",null,this.getTitleForIndex(n))),g=this.props.transformDayElement;return g?g(y,h,n):y}},{key:"renderWeek",value:function(a){var n=this;return B.createElement("g",{key:a,transform:this.getTransformForWeek(a),className:"".concat(H,"week")},Me(G).map(function(i){return n.renderSquare(i,a*G+i)}))}},{key:"renderAllWeeks",value:function(){var a=this;return Me(this.getWeekCount()).map(function(n){return a.renderWeek(n)})}},{key:"renderMonthLabels",value:function(){var a=this;if(!this.props.showMonthLabels)return null;var n=Me(this.getWeekCount()-1);return n.map(function(i){var o=he(a.getStartDateWithEmptyDays(),(i+1)*G),l=a.getMonthLabelCoordinates(i),u=Ce(l,2),d=u[0],p=u[1];return o.getDate()>=1&&o.getDate()<=G?B.createElement("text",{key:i,x:d,y:p,className:"".concat(H,"month-label")},a.props.monthLabels[o.getMonth()]):null})}},{key:"renderWeekdayLabels",value:function(){var a=this;return this.props.showWeekdayLabels?this.props.weekdayLabels.map(function(n,i){var o=a.getWeekdayLabelCoordinates(i),l=Ce(o,2),u=l[0],d=l[1],p="".concat(a.props.horizontal?"":"".concat(H,"small-text")," ").concat(H,"weekday-label");return i&1?B.createElement("text",{key:"".concat(u).concat(d),x:u,y:d,className:p},n):null}):null}},{key:"render",value:function(){return this.valueCache=this.getValueCache(this.props),B.createElement("svg",{className:"react-calendar-heatmap",viewBox:this.getViewBox()},B.createElement("g",{transform:this.getTransformForMonthLabels(),className:"".concat(H,"month-labels")},this.renderMonthLabels()),B.createElement("g",{transform:this.getTransformForAllWeeks(),className:"".concat(H,"all-weeks")},this.renderAllWeeks()),B.createElement("g",{transform:this.getTransformForWeekdayLabels(),className:"".concat(H,"weekday-labels")},this.renderWeekdayLabels()))}}]),r})(B.Component);Ze.propTypes={values:j.arrayOf(j.shape({date:j.oneOfType([j.string,j.number,j.instanceOf(Date)]).isRequired}).isRequired).isRequired,numDays:j.number,startDate:j.oneOfType([j.string,j.number,j.instanceOf(Date)]),endDate:j.oneOfType([j.string,j.number,j.instanceOf(Date)]),gutterSize:j.number,horizontal:j.bool,showMonthLabels:j.bool,showWeekdayLabels:j.bool,showOutOfRangeDays:j.bool,tooltipDataAttrs:j.oneOfType([j.object,j.func]),titleForValue:j.func,classForValue:j.func,monthLabels:j.arrayOf(j.string),weekdayLabels:j.arrayOf(j.string),onClick:j.func,onMouseOver:j.func,onMouseLeave:j.func,transformDayElement:j.func};Ze.defaultProps={numDays:null,startDate:wi(),endDate:new Date,gutterSize:1,horizontal:!0,showMonthLabels:!0,showWeekdayLabels:!1,showOutOfRangeDays:!1,tooltipDataAttrs:null,titleForValue:null,classForValue:function(r){return r?"color-filled":"color-empty"},monthLabels:Oi,weekdayLabels:ki,onClick:null,onMouseOver:null,onMouseLeave:null,transformDayElement:null};const Mt=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"];function Si({summary:e,dailyRevenue:r,topServices:t,transactions:a,heatmapData:n,filters:i}){const[o,l]=c.useState(i.start_date?new Date(i.start_date):void 0),[u,d]=c.useState(i.end_date?new Date(i.end_date):void 0),p=()=>{Se.get(route("reports.index"),{start_date:o?C(o,"yyyy-MM-dd"):"",end_date:u?C(u,"yyyy-MM-dd"):""},{preserveState:!0})},h=()=>{l(void 0),d(void 0),Se.get(route("reports.index"))},y=f=>{const m=new Date;let v=new Date;f==="today"&&(v=new Date),f==="7days"&&(v=Ae(new Date,7)),f==="30days"&&(v=Ae(new Date,30)),f==="month"&&(v=gr(new Date)),l(v),d(m),Se.get(route("reports.index"),{start_date:C(v,"yyyy-MM-dd"),end_date:C(m,"yyyy-MM-dd")},{preserveState:!0})},g=()=>{const f=route("reports.export",{start_date:o?C(o,"yyyy-MM-dd"):"",end_date:u?C(u,"yyyy-MM-dd"):""});window.location.href=f},x=f=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(f),b=[{accessorKey:"invoice_code",header:"Invoice",cell:({row:f})=>s.jsx("div",{className:"font-mono text-xs font-bold",children:f.getValue("invoice_code")})},{accessorKey:"created_at",header:"Tanggal",cell:({row:f})=>s.jsx("div",{className:"text-xs text-muted-foreground",children:C(new Date(f.getValue("created_at")),"dd MMM yyyy HH:mm",{locale:ht})})},{accessorKey:"customer.user.name",header:"Pelanggan",cell:({row:f})=>s.jsx("div",{className:"font-medium",children:f.original.customer.user?.name||"Umum"})},{accessorKey:"final_amount",header:"Total",cell:({row:f})=>s.jsx("div",{className:"font-bold text-sm text-emerald-600",children:x(f.getValue("final_amount"))})},{accessorKey:"status",header:"Status",cell:({row:f})=>s.jsx(vr,{variant:"outline",className:"capitalize text-[10px]",children:f.getValue("status")})}];return s.jsxs(s.Fragment,{children:[s.jsx(fr,{title:"Laporan Keuangan"}),s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Laporan Keuangan"}),s.jsx("p",{className:"text-muted-foreground",children:"Analisis performa bisnis laundry Anda."})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-card p-1.5 rounded-xl border shadow-sm w-full lg:w-auto",children:[s.jsxs("div",{className:"flex gap-1 mr-2 border-r pr-2",children:[s.jsx("button",{onClick:()=>y("today"),className:"px-2 py-1 text-[10px] font-medium text-muted-foreground hover:text-primary transition-colors",children:"Hari Ini"}),s.jsx("button",{onClick:()=>y("7days"),className:"px-2 py-1 text-[10px] font-medium text-muted-foreground hover:text-primary transition-colors",children:"7 Hari"}),s.jsx("button",{onClick:()=>y("month"),className:"px-2 py-1 text-[10px] font-medium text-muted-foreground hover:text-primary transition-colors",children:"Bulan Ini"})]}),s.jsxs(tt,{children:[s.jsx(rt,{asChild:!0,children:s.jsxs(ne,{variant:"outline",className:nt("w-[130px] justify-start text-left font-normal h-8 text-xs",!o&&"text-muted-foreground"),children:[s.jsx(it,{className:"mr-2 h-3 w-3"}),o?C(o,"dd MMM yyyy"):s.jsx("span",{children:"Mulai"})]})}),s.jsx(at,{className:"w-auto p-0",align:"start",children:s.jsx(et,{mode:"single",selected:o,onSelect:l,initialFocus:!0})})]}),s.jsx("span",{className:"text-muted-foreground",children:"-"}),s.jsxs(tt,{children:[s.jsx(rt,{asChild:!0,children:s.jsxs(ne,{variant:"outline",className:nt("w-[130px] justify-start text-left font-normal h-8 text-xs",!u&&"text-muted-foreground"),children:[s.jsx(it,{className:"mr-2 h-3 w-3"}),u?C(u,"dd MMM yyyy"):s.jsx("span",{children:"Selesai"})]})}),s.jsx(at,{className:"w-auto p-0",align:"start",children:s.jsx(et,{mode:"single",selected:u,onSelect:d,disabled:f=>o?f<o:!1,initialFocus:!0})})]}),s.jsx(ne,{size:"sm",onClick:p,className:"h-8",children:"Terapkan"}),s.jsx(ne,{size:"sm",variant:"ghost",onClick:h,title:"Reset Filter",className:"h-8 px-2",children:s.jsx(la,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx("div",{className:"w-px h-6 bg-border mx-1 hidden sm:block"}),s.jsxs(ne,{size:"sm",variant:"outline",onClick:g,className:"h-8 gap-2 ml-auto sm:ml-0",children:[s.jsx(oa,{className:"h-3 w-3"})," ",s.jsx("span",{className:"hidden sm:inline",children:"Export Excel"})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3 mb-6",children:[s.jsxs(De,{spotlightColor:"rgba(16, 185, 129, 0.2)",className:"h-full",children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(V,{className:"text-sm font-medium",children:"Total Pendapatan"}),s.jsx("div",{className:"h-8 w-8 rounded-full bg-emerald-500/10 flex items-center justify-center",children:s.jsx(Je,{className:"h-4 w-4 text-emerald-500"})})]}),s.jsxs(q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:x(e.revenue)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Periode terpilih"})]})]}),s.jsxs(De,{spotlightColor:"rgba(59, 130, 246, 0.2)",className:"h-full",children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(V,{className:"text-sm font-medium",children:"Total Transaksi"}),s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-500/10 flex items-center justify-center",children:s.jsx(Qe,{className:"h-4 w-4 text-blue-500"})})]}),s.jsxs(q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.transactions_count}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Transaksi sukses"})]})]}),s.jsxs(De,{spotlightColor:"rgba(249, 115, 22, 0.2)",className:"h-full",children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(V,{className:"text-sm font-medium",children:"Pelanggan Baru"}),s.jsx("div",{className:"h-8 w-8 rounded-full bg-orange-500/10 flex items-center justify-center",children:s.jsx(pr,{className:"h-4 w-4 text-orange-500"})})]}),s.jsxs(q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.customers_new}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Terdaftar"})]})]})]}),s.jsxs(de,{className:"mb-6 border-none shadow-md overflow-hidden",children:[s.jsx($,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(ta,{className:"h-4 w-4"})," Aktivitas Transaksi (Setahun Terakhir)"]})}),s.jsx(q,{className:"overflow-x-auto pb-6",children:s.jsx("div",{className:"min-w-[600px]",children:s.jsx(Ze,{startDate:Ae(new Date,365),endDate:new Date,values:n,classForValue:f=>f?`color-scale-${Math.min(f.count,4)}`:"color-empty",tooltipDataAttrs:f=>!f||!f.date?{"data-tip":"Tidak ada data"}:{"data-tip":`${C(new Date(f.date),"dd MMM yyyy")}: ${f.count} Transaksi`},showWeekdayLabels:!0})})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-7 mb-6",children:[s.jsxs(de,{className:"md:col-span-4 border-none shadow-md",children:[s.jsx($,{children:s.jsx(V,{children:"Tren Pendapatan (Area Chart)"})}),s.jsx(q,{className:"pl-0",children:s.jsx("div",{className:"h-[300px]",children:r.length>0?s.jsx(ct,{width:"100%",height:"100%",children:s.jsxs(ra,{data:r,margin:{top:10,right:30,left:0,bottom:0},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),s.jsx(dt,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),s.jsx(ft,{dataKey:"date",tickFormatter:f=>C(new Date(f),"dd/MM"),fontSize:11,tickLine:!1,axisLine:!1}),s.jsx(pt,{tickFormatter:f=>`${f/1e3}k`,fontSize:11,tickLine:!1,axisLine:!1}),s.jsx(mt,{formatter:(f=>[x(f),"Pendapatan"]),labelFormatter:f=>C(new Date(f),"dd MMMM yyyy",{locale:ht}),contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{stroke:"#3b82f6",strokeWidth:1}}),s.jsx(aa,{type:"monotone",dataKey:"total",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorRevenue)"})]})}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-muted-foreground opacity-50",children:[s.jsx(Je,{className:"h-10 w-10 mb-2"}),s.jsx("p",{children:"Belum ada data pendapatan"})]})})})]}),s.jsxs(de,{className:"md:col-span-3 border-none shadow-md",children:[s.jsx($,{children:s.jsx(V,{children:"Top 5 Layanan Terlaris"})}),s.jsx(q,{children:s.jsx("div",{className:"h-[300px] w-full",children:t.length>0?s.jsx(ct,{width:"100%",height:"100%",children:s.jsxs(oi,{layout:"vertical",data:t,margin:{top:0,right:30,left:40,bottom:5},children:[s.jsx(dt,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e5e7eb"}),s.jsx(ft,{type:"number",hide:!0}),s.jsx(pt,{dataKey:"service_name",type:"category",width:100,tick:{fontSize:11},interval:0}),s.jsx(mt,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:(f=>[f+"x","Terjual"])}),s.jsx(ir,{dataKey:"total_qty",radius:[0,4,4,0],barSize:32,children:t.map((f,m)=>s.jsx(Xe,{fill:Mt[m%Mt.length]},`cell-${m}`))})]})}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-muted-foreground opacity-50",children:[s.jsx(Qe,{className:"h-10 w-10 mb-2"}),s.jsx("p",{children:"Belum ada data layanan"})]})})})]})]}),s.jsxs(de,{className:"border-none shadow-md",children:[s.jsx($,{children:s.jsx(V,{children:"Rincian Transaksi"})}),s.jsx(q,{children:s.jsx(hr,{columns:b,data:a.data,pagination:a})})]})]})}Si.layout=e=>s.jsx(mr,{children:e});export{Si as default};

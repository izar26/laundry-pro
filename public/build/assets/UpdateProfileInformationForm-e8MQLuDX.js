import{u as g,a as f,j as e,L as v}from"./app-B3G8BfOA.js";import{B as j}from"./button-B4om1wV9.js";import{I as o}from"./input-1wOytjV8.js";import{L as l}from"./label-CCALBqIv.js";import{T as N}from"./textarea-DHJaIa8Q.js";import{I as m}from"./InputError-CSF9afPg.js";import{A as b,a as k,b as y}from"./avatar-WQHozX9L.js";import{K as w}from"./transition-C3EtYPnN.js";import"./utils-BELw0PCo.js";import"./index-BXWyBb2C.js";import"./index-C_gzSM8G.js";import"./index-CBrCnuel.js";function R({mustVerifyEmail:n,status:c,className:d=""}){const s=g().props.auth.user,{data:r,setData:t,post:u,errors:i,processing:p,recentlySuccessful:x}=f({_method:"PATCH",name:s.name,email:s.email,phone:s.phone||"",address:s.address||"",avatar:null}),h=a=>{a.preventDefault(),u(route("profile.update"))};return e.jsx("section",{className:d,children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"avatar",children:"Foto Profil"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[e.jsxs(b,{className:"h-20 w-20 border-2 border-border",children:[e.jsx(k,{src:r.avatar?URL.createObjectURL(r.avatar):s.avatar?`/storage/${s.avatar}`:`https://ui-avatars.com/api/?name=${s.name}&background=random`,className:"object-cover"}),e.jsx(y,{children:"U"})]}),e.jsxs("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[e.jsx(o,{id:"avatar",type:"file",onChange:a=>t("avatar",a.target.files?a.target.files[0]:null),accept:"image/*",className:"cursor-pointer"}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Format: JPG, PNG, max 2MB."})]})]}),e.jsx(m,{className:"mt-2",message:i.avatar})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"Nama Lengkap"}),e.jsx(o,{id:"name",className:"mt-1 block w-full bg-background",value:r.name,onChange:a=>t("name",a.target.value),required:!0,autoFocus:!0,autoComplete:"name"}),e.jsx(m,{className:"mt-2",message:i.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(o,{id:"email",type:"email",className:"mt-1 block w-full bg-background",value:r.email,onChange:a=>t("email",a.target.value),required:!0,autoComplete:"username"}),e.jsx(m,{className:"mt-2",message:i.email})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone",children:"Nomor HP / WhatsApp"}),e.jsx(o,{id:"phone",type:"text",className:"mt-1 block w-full bg-background md:w-1/2",value:r.phone,onChange:a=>t("phone",a.target.value),placeholder:"0812xxxx"}),e.jsx(m,{className:"mt-2",message:i.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"address",children:"Alamat Lengkap"}),e.jsx(N,{id:"address",className:"mt-1 block w-full bg-background min-h-[100px]",value:r.address,onChange:a=>t("address",a.target.value),placeholder:"Jl. Mawar No. 12..."}),e.jsx(m,{className:"mt-2",message:i.address})]})]}),n&&s.email_verified_at===null&&e.jsxs("div",{children:[e.jsxs("p",{className:"mt-2 text-sm text-gray-800",children:["Email Anda belum terverifikasi.",e.jsx(v,{href:route("verification.send"),method:"post",as:"button",className:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Klik di sini untuk kirim ulang email verifikasi."})]}),c==="verification-link-sent"&&e.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"Link verifikasi baru telah dikirim ke email Anda."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{disabled:p,children:"Simpan Perubahan"}),e.jsx(w,{show:x,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tersimpan."})})]})]})})}export{R as default};
